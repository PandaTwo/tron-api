# 更新日志

所有版本更新都将记录在这个文件中。

## [1.0.5] - 2024-03-15

### 改进
- 添加自动清理缓存功能，显著降低内存占用
- 重写transfer方法，每次转账后自动清理不需要的缓存
- 为批量查询和转账操作增加自动清理功能
- 引入setAutoCleaning方法允许用户控制自动清理功能
- 优化缓存管理策略，只保留当前使用的合约信息
- 解决反复调用时内存持续增长的问题

## [1.0.4] - 2024-03-15

### 改进
- 显著优化TRC20Contract类的内存使用效率
- 限制缓存条目数量，防止无限增长
- 添加静态方法clearCache()用于主动清理缓存
- 在批量操作中实现分批处理机制
- 增加主动触发垃圾回收，减少内存占用
- 优化bcmath计算精度，降低资源消耗

## [1.0.3] - 2024-03-15

### 改进
- 增强与PHP 7.4的兼容性，允许使用更低版本的iexbase/tron-api
- 在platform配置中添加PHP版本设置，确保正确的兼容性检查
- 通过放宽依赖版本要求，提高与各种环境的兼容性

## [1.0.2] - 2024-03-15

### 改进
- 通过平台配置完全绕过GMP扩展检查
- 更新安装说明，提供两种解决方案
- 优化错误处理，在没有GMP扩展时提供更友好的错误信息

## [1.0.1] - 2024-03-14

### 改进
- 移除GMP扩展的强制依赖，使其成为可选依赖
- 在使用钱包功能时才检查GMP扩展
- 添加了友好的错误提示，指导用户如何安装GMP扩展或绕过检查

## [1.0.0] - 2024-03-14

### 新增
- 基于 iexbase/tron-api 5.0 版本进行全面增强
- 添加能量价格查询和能量估算功能
- 支持质押2.0 API
- 增加TRC20代币批量转账功能
- 增加USDT余额快速查询功能
- 增加自动充值检测功能
- 添加钱包管理相关功能
- 支持从Shasta测试网获取能量价格

### 改进
- 优化API错误处理
- 增强TRC20代币转账功能
- 优化API请求和响应处理
- 提高交易安全性
- 改进余额查询稳定性

### 修复
- 修复能量估算问题
- 修复质押2.0资源类型使用错误
- 修复USDT转账费用限制设置问题 